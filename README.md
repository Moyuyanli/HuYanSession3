# HuYanSession3

**dev分支**

这里不做想详细的解释和介绍，

---

## 参数

对于部分参数，有默认值，可省略不填。

`|`  指可选，左边或右边选择一个即可
`+` 指可填写多个，一般中间用` `隔开。
`(xx)` 指必填，括号内内容必须填写。
`[xxx]`指可选填写。

#### 匹配方式

* `1|精准` 精准匹配(默认)
* `2|模糊` 模糊匹配，包含触发词即匹配成功。
* `3|头部` 头部匹配，从前往后匹配触发词即匹配成功。
* `4|尾部` 尾部匹配，从后往前匹配触发词即匹配成功。
* `5|正则` 正则匹配，按照正则匹配结果。

#### 重写

对于部分只能存在一条的信息，在参数集里面添加重写状态即可重写写入该信息。

* `%|rewrite` 启用重写。

#### 动态消息

不同于壶言会话2的自动识别动态消息，壶言会话3这边需要手动指定是否启用动态消息。

* `dt|动态|dynamic` 启用动态消息。

#### 本地缓存

由于腾讯服务器储存图片有概率过期，因此设计本地缓存功能，在config中有默认开启配置，默认不开启。
也可以根据单个消息默认设定开启与否。

* `ca|缓存|cache` 启用本地缓存。

#### 转换方式

消息在匹配时的转换方式

* `MIRAICODE` miraiCode(默认)。
* `STRING` String。
* `CONTENT` content。
* `JSON` json。

#### 作用域

* `global` 全局。
* `global-(id)|global-(at)` 全局的某个用户，可填号码，可at人。
* `group` 当前群(默认)。
* `member-(id)|member-(at)` 某个群友。
* `list-(id)` 自定义群列表。
* `users-(id)` 自定义用户列表。
* `members-(id)` 自定义某个群的群用户列表。

#### 触发概率

* `probability-(0.0~1.0)` 消息的触发概率。

---

## 指令

### 消息功能

权限id：`session`

#### 一对一消息

权限id：`hh`

| 指令                     | 含义          | 案例         |
|------------------------|-------------|------------|
| `xx (a) (b) [params]+` | 学习一个一对一回复   | xx a b     |
| `学习 (a) (b) [params]+` | 同上          | 学习 啊啊啊 哦哦哦 |
| `-xx (a) [scope\|id]`  | 删除一个一对一回复^1 | -xx a      |
| `删除 (啊啊啊) [scope\|id]` | 同上          | 删除 啊啊啊     |

##### 参数

params 支持列表：

* 匹配方式
* 重写
* 动态消息
* 本地缓存
* 转换方式
* 作用域
* 触发概率

动态消息支持列表：

暂不支持

#### 一对多消息

权限id：`dct`

#### 定时消息

权限id：`ds`

---

### 权限功能

权限id：`admin`

#### 分组功能

### 插件指令

* `hys v` 查询当前壶言会话3的版本。

